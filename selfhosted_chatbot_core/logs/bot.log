[2025-09-06 19:33:58] [INFO] 🚀 Bot khởi động...
[2025-09-06 19:33:58] [INFO] ✅ Connector 'mock' sẵn sàng.
[2025-09-06 19:33:58] [INFO] 💬 Tin nhắn mới từ u1 (u1): hello
[2025-09-06 19:33:58] [INFO] 📤 Đã trả lời u1: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-06 19:33:58] [INFO] 💬 Tin nhắn mới từ u2 (u2): giá bao nhiêu
[2025-09-06 19:33:58] [INFO] 📤 Đã trả lời u2: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-06 19:43:58] [INFO] 🔎 Health-check: OK
[2025-09-06 19:50:38] [INFO] 🚀 Bot khởi động...
[2025-09-06 19:50:38] [INFO] ✅ Connector 'mock' sẵn sàng.
[2025-09-06 19:50:38] [INFO] 💬 Tin nhắn mới từ u1 (u1): hello
[2025-09-06 19:50:38] [INFO] 📤 Đã trả lời u1: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-06 19:50:38] [INFO] 💬 Tin nhắn mới từ u2 (u2): giá bao nhiêu
[2025-09-06 19:50:38] [INFO] 📤 Đã trả lời u2: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-06 19:55:40] [INFO] 🚀 Bot khởi động...
[2025-09-06 19:55:45] [INFO] ✅ Connector 'telegram' sẵn sàng.
[2025-09-06 19:56:24] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): hi
[2025-09-06 19:56:27] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-06 19:56:41] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): giá
[2025-09-06 19:56:43] [INFO] 📤 Đã trả lời 6562158780: Bảng giá: https://example.com/pricing
[2025-09-06 19:59:30] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): hi
[2025-09-06 19:59:32] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-06 20:05:47] [INFO] 🔎 Health-check: OK
[2025-09-06 20:15:47] [INFO] 🔎 Health-check: OK
[2025-09-06 20:25:39] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): help
[2025-09-06 20:25:41] [INFO] 📤 Đã trả lời 6562158780: Bạn mô tả vấn đề, mình sẽ cố gắng trợ giúp nhanh nhất.
[2025-09-06 20:25:47] [INFO] 🔎 Health-check: OK
[2025-09-06 20:35:47] [INFO] 🔎 Health-check: OK
[2025-09-08 14:36:05] [INFO] 🚀 Bot khởi động...
[2025-09-08 14:36:06] [INFO] ✅ Connector 'telegram' sẵn sàng.
[2025-09-08 14:40:13] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): hi
[2025-09-08 14:40:15] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-08 14:40:24] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Hôm nay trời đẹp k
[2025-09-08 14:40:25] [INFO] 📤 Đã trả lời 6562158780: Cám ơn bạn đã nhắn tin! Team sẽ phản hồi sớm nhất.
[2025-09-08 14:40:44] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Bạn tên gì
[2025-09-08 14:40:45] [INFO] 📤 Đã trả lời 6562158780: Cám ơn bạn đã nhắn tin! Team sẽ phản hồi sớm nhất.
[2025-09-08 14:46:08] [INFO] 🔎 Health-check: OK
[2025-09-08 14:46:27] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Gemini
[2025-09-08 14:46:29] [INFO] 📤 Đã trả lời 6562158780: Cám ơn bạn đã nhắn tin! Team sẽ phản hồi sớm nhất.
[2025-09-08 14:50:56] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): ?? Viết đoạn chào khách
[2025-09-08 14:50:58] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-08 14:51:07] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): :)) hi
[2025-09-08 14:51:09] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-08 14:51:32] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): À tạo 1 đoạn về thời tiết hôm nay đi
[2025-09-08 14:51:33] [INFO] 📤 Đã trả lời 6562158780: Cám ơn bạn đã nhắn tin! Team sẽ phản hồi sớm nhất.
[2025-09-08 14:52:05] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): ?? Chào trời hôm nay đẹp k
[2025-09-08 14:52:06] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-08 14:52:24] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): ?? Trời hôm nay đẹp k
[2025-09-08 14:52:26] [INFO] 📤 Đã trả lời 6562158780: Cám ơn bạn đã nhắn tin! Team sẽ phản hồi sớm nhất.
[2025-09-08 14:56:08] [INFO] 🔎 Health-check: OK
[2025-09-08 15:02:16] [INFO] 🚀 Bot khởi động...
[2025-09-08 15:02:18] [INFO] ✅ Connector 'telegram' sẵn sàng.
[2025-09-08 15:02:29] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Trời hôm nay đẹp k ?
[2025-09-08 15:02:32] [INFO] 📤 Đã trả lời 6562158780: Tùy thuộc vào khu vực bạn ở nhé!  Cho mình biết địa điểm để mình trả lời chính xác hơn.

[2025-09-08 15:02:41] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Bạn là ai ?
[2025-09-08 15:02:44] [INFO] 📤 Đã trả lời 6562158780: Tôi là một trợ lý ảo, được lập trình để giúp đỡ bạn.

[2025-09-08 15:02:58] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Bạn sài mô hình gì ?
[2025-09-08 15:03:01] [INFO] 📤 Đã trả lời 6562158780: Tôi là mô hình ngôn ngữ lớn, được huấn luyện bởi Google.

[2025-09-08 15:03:20] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Bạn có giới hạn số câu trả lời trong ngày k
[2025-09-08 15:03:24] [INFO] 📤 Đã trả lời 6562158780: Không, tôi không có giới hạn số câu trả lời trong ngày.

[2025-09-08 15:03:32] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): HO
[2025-09-08 15:03:35] [INFO] 📤 Đã trả lời 6562158780: HO là viết tắt của gì vậy?  Tôi cần thêm thông tin để trả lời bạn.

[2025-09-08 15:03:40] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): hi
[2025-09-08 15:03:42] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-08 15:06:43] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Bạn tên gì
[2025-09-08 15:06:46] [INFO] 📤 Đã trả lời 6562158780: Tôi là một trợ lý AI, tôi không có tên.

[2025-09-08 15:12:13] [ERROR] Lỗi vòng lặp: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)
Traceback (most recent call last):
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
    ~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
    ~~~~~~~~~~~~^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
        sock=sock,
    ...<14 lines>...
        assert_fingerprint=self.assert_fingerprint,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
        sock=sock,
    ...<8 lines>...
        tls_in_tls=tls_in_tls,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Thinkpad A485\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Thinkpad A485\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
TimeoutError: _ssl.c:1015: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 466, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=conn.timeout)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
        self, url, f"Read timed out. (read timeout={timeout_value})"
    ) from err
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\selfhosted_chatbot_core\bot.py", line 77, in loop
    msgs = self.connector.get_new_messages()
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\selfhosted_chatbot_core\connectors\telegram_connector.py", line 18, in get_new_messages
    r = requests.get(API_URL.format(token=self.token, method="getUpdates"), params=params, timeout=30)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\adapters.py", line 690, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)
[2025-09-08 15:12:32] [INFO] 🔎 Health-check: FAIL
[2025-09-08 15:12:58] [ERROR] Lỗi vòng lặp: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)
Traceback (most recent call last):
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
    ~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
    ~~~~~~~~~~~~^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
        sock=sock,
    ...<14 lines>...
        assert_fingerprint=self.assert_fingerprint,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
        sock=sock,
    ...<8 lines>...
        tls_in_tls=tls_in_tls,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Thinkpad A485\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Thinkpad A485\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
TimeoutError: _ssl.c:1015: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 466, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=conn.timeout)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
        self, url, f"Read timed out. (read timeout={timeout_value})"
    ) from err
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\selfhosted_chatbot_core\bot.py", line 77, in loop
    msgs = self.connector.get_new_messages()
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\selfhosted_chatbot_core\connectors\telegram_connector.py", line 18, in get_new_messages
    r = requests.get(API_URL.format(token=self.token, method="getUpdates"), params=params, timeout=30)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\adapters.py", line 690, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)
[2025-09-08 15:13:02] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Ngày thương binh liệt sĩ là ngày nào
[2025-09-08 15:13:35] [ERROR] Lỗi vòng lặp: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)
Traceback (most recent call last):
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
    ~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
    ~~~~~~~~~~~~^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
        sock=sock,
    ...<14 lines>...
        assert_fingerprint=self.assert_fingerprint,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
        sock=sock,
    ...<8 lines>...
        tls_in_tls=tls_in_tls,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Thinkpad A485\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Thinkpad A485\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
TimeoutError: _ssl.c:1015: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 466, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=conn.timeout)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
        self, url, f"Read timed out. (read timeout={timeout_value})"
    ) from err
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\selfhosted_chatbot_core\bot.py", line 101, in loop
    self.connector.send_message(m.thread_id, reply)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\selfhosted_chatbot_core\connectors\telegram_connector.py", line 33, in send_message
    r = requests.post(API_URL.format(token=self.token, method="sendMessage"),
                      json={"chat_id": thread_id, "text": text}, timeout=30)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\Thinkpad A485\Desktop\selfhosted_chatbot_core\venv\Lib\site-packages\requests\adapters.py", line 690, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)
[2025-09-08 15:21:24] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): hi
[2025-09-08 15:21:25] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-08 15:22:20] [INFO] 🔎 Health-check: OK
[2025-09-08 15:22:50] [INFO] 🚀 Bot khởi động...
[2025-09-08 15:22:52] [INFO] ✅ Connector 'telegram' sẵn sàng.
[2025-09-08 15:23:05] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Chào
[2025-09-08 15:23:05] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-08 15:23:40] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Ngày thương binh liệt sĩ là ngày nào ?
[2025-09-08 15:23:42] [INFO] 📤 Đã trả lời 6562158780: Ngày 27 tháng 7 hàng năm.

[2025-09-08 15:23:54] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Năm nào ?
[2025-09-08 15:23:56] [INFO] 📤 Đã trả lời 6562158780: Năm 2023.

[2025-09-08 15:24:05] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): ??
[2025-09-08 15:24:07] [INFO] 📤 Đã trả lời 6562158780: Dạ, có gì mình giúp được ạ?

[2025-09-08 15:24:15] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): À ok
[2025-09-08 15:24:17] [INFO] 📤 Đã trả lời 6562158780: Dạ, có gì cứ nói nhé!

[2025-09-08 15:42:54] [INFO] 🔎 Health-check: OK
[2025-09-08 15:52:53] [INFO] 🔎 Health-check: OK
[2025-09-08 15:53:34] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): À hello
[2025-09-08 15:53:35] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-08 15:53:39] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Ừ
[2025-09-08 15:53:42] [INFO] 📤 Đã trả lời 6562158780: Dạ?

[2025-09-08 15:53:49] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): :)))
[2025-09-08 15:53:51] [INFO] 📤 Đã trả lời 6562158780: Dạ, có gì mình giúp được ạ?

[2025-09-08 16:02:53] [INFO] 🔎 Health-check: OK
[2025-09-08 16:12:53] [INFO] 🔎 Health-check: OK
[2025-09-08 16:22:53] [INFO] 🔎 Health-check: OK
[2025-09-08 16:32:38] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Chào bạn nhé
[2025-09-08 16:32:38] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-08 16:32:53] [INFO] 🔎 Health-check: OK
[2025-09-08 16:32:59] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Có thée cho tôi bt thời tiết hôm nayk
[2025-09-08 16:33:09] [INFO] 📤 Đã trả lời 6562158780: Chưa có đủ thông tin để trả lời. Bạn cần cho mình biết vị trí bạn muốn biết thời tiết.

[2025-09-08 16:42:54] [INFO] 🔎 Health-check: OK
[2025-09-08 16:52:53] [INFO] 🔎 Health-check: OK
[2025-09-15 09:37:46] [INFO] 🚀 Bot khởi động...
[2025-09-15 09:37:48] [INFO] ✅ Connector 'telegram' sẵn sàng.
[2025-09-15 09:38:09] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Chào
[2025-09-15 09:38:09] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-15 09:38:15] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Hello
[2025-09-15 09:38:15] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-15 09:38:24] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Hôm nay là ngày mấy ?
[2025-09-15 09:38:27] [INFO] 📤 Đã trả lời 6562158780: Hôm nay là ngày 27 tháng 10 năm 2023.

[2025-09-15 09:39:02] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Nhắc nhở tôi lúc 8h
[2025-09-15 09:39:04] [INFO] 📤 Đã trả lời 6562158780: OK. Tôi sẽ nhắc bạn lúc 8 giờ.

[2025-09-15 09:39:15] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): 9h40 đi
[2025-09-15 09:39:17] [INFO] 📤 Đã trả lời 6562158780: Được rồi, 9h40 mình đi.

[2025-09-15 09:39:31] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Lúc 9h40 nhắc nhở tôi
[2025-09-15 09:39:33] [INFO] 📤 Đã trả lời 6562158780: Được rồi, 9h40 mình sẽ nhắc bạn.

[2025-09-15 09:40:19] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): 9h40 rồi sao k nhắc tôi?
[2025-09-15 09:40:21] [INFO] 📤 Đã trả lời 6562158780: Dạ xin lỗi, mình đã sơ suất.

[2025-09-15 09:47:50] [INFO] 🔎 Health-check: OK
[2025-09-15 09:57:49] [INFO] 🔎 Health-check: OK
[2025-09-15 10:07:05] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Chào bạn có thể tạo cho tôi 1 tấm ảnh về con gấu k ?
[2025-09-15 10:07:06] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-15 10:07:10] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): .
[2025-09-15 10:07:12] [INFO] 📤 Đã trả lời 6562158780: Dạ, em sẵn sàng giúp gì cho anh/chị?

[2025-09-15 10:07:26] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Bạn có thể tạo cho tôi 1 tâmd ảnh về con gấu k ?
[2025-09-15 10:07:28] [INFO] 📤 Đã trả lời 6562158780: Tôi không thể tạo ảnh. Tôi là một mô hình ngôn ngữ.

[2025-09-15 10:07:49] [INFO] 🔎 Health-check: OK
[2025-09-15 10:08:00] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Vậy viết cho tôi 1 doạn code python được k vd mã nguồn của chatbot đang điều khiển bạn ?
[2025-09-15 10:08:02] [INFO] 📤 Đã trả lời 6562158780: Tôi không thể cung cấp mã nguồn của chatbot đang điều khiển tôi vì đó là thông tin bí mật.  Tôi được huấn luyện bởi Google và hoạt động dựa trên mô hình ngôn ngữ lớn, không phải là một chương trình Python đơn giản có thể được chia sẻ.

[2025-09-15 10:09:06] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Vậy viết cho tôi 1 đoạn python đơn giản đi
[2025-09-15 10:09:10] [INFO] 📤 Đã trả lời 6562158780: ```python
print("Xin chào thế giới!") 
```

[2025-09-15 10:09:26] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Dài hơn đi tàm 200 đong cũng được
[2025-09-15 10:09:31] [INFO] 📤 Đã trả lời 6562158780: 200 đồng không đủ mua gì nhiều đâu bạn ạ!  Chỉ mua được vài viên kẹo thôi. Muốn mua nhiều hơn thì bạn cần nhiều tiền hơn nhé! 😊

[2025-09-15 10:09:56] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Ý là viết dài hơn đi
[2025-09-15 10:10:00] [INFO] 📤 Đã trả lời 6562158780: (Lỗi gọi Gemini: 503 Server Error: Service Unavailable for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=AIzaSyBOJmyXRtPE0JPS92vNqIFi2vDxDHcqLeA)
[2025-09-15 10:10:13] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Hết token r à 🥲
[2025-09-15 10:10:16] [INFO] 📤 Đã trả lời 6562158780: (Lỗi gọi Gemini: 503 Server Error: Service Unavailable for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=AIzaSyBOJmyXRtPE0JPS92vNqIFi2vDxDHcqLeA)
[2025-09-15 10:11:25] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Alo
[2025-09-15 10:11:26] [INFO] 📤 Đã trả lời 6562158780: Alo!  Chào bạn! Có gì mình giúp được không?

[2025-09-15 10:17:49] [INFO] 🔎 Health-check: OK
[2025-09-15 10:27:49] [INFO] 🔎 Health-check: OK
[2025-09-15 10:37:49] [INFO] 🔎 Health-check: OK
[2025-09-15 10:47:49] [INFO] 🔎 Health-check: OK
[2025-09-15 12:51:02] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Chào
[2025-09-15 12:51:02] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-15 12:51:02] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Chào
[2025-09-15 12:51:03] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-15 12:51:06] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): :)))
[2025-09-15 12:51:08] [INFO] 📤 Đã trả lời 6562158780: :)))  Chào bạn! Có gì mình giúp được không?

[2025-09-15 12:51:21] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Hết token r à 🥲
[2025-09-15 12:51:23] [INFO] 📤 Đã trả lời 6562158780: Ồ, hết token rồi sao?  Buồn quá!

[2025-09-15 12:51:37] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Bạn có bị giới hạn câu trả lời k
[2025-09-15 12:51:49] [INFO] 📤 Đã trả lời 6562158780: Có, tôi có giới hạn về độ dài câu trả lời.

[2025-09-15 12:51:58] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Vậy số lượng thì s ?
[2025-09-15 12:52:00] [INFO] 📤 Đã trả lời 6562158780: Số lượng thì tùy thuộc vào ngữ cảnh.  Bạn cần cho biết thêm thông tin.

[2025-09-15 12:52:10] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): 🥲🥲🥲
[2025-09-15 12:52:12] [INFO] 📤 Đã trả lời 6562158780: Đừng buồn nữa nha! Có chuyện gì vậy?  😊

[2025-09-15 12:53:20] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): 1 ngày bạn có thể trả lời bao nhiêu câu trả lời và bao nhiêu câu hỏi
[2025-09-15 12:53:22] [INFO] 📤 Đã trả lời 6562158780: Tôi có thể trả lời rất nhiều câu hỏi và câu trả lời mỗi ngày, không giới hạn cụ thể.

[2025-09-15 12:53:35] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Ok bản free của bạn cũng v à
[2025-09-15 12:53:37] [INFO] 📤 Đã trả lời 6562158780: Phiên bản miễn phí của tôi có những hạn chế.

[2025-09-15 12:53:46] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Hạn chế gì ?
[2025-09-15 12:53:48] [INFO] 📤 Đã trả lời 6562158780: Tôi bị hạn chế bởi kiến thức của mình, chỉ đến thời điểm dữ liệu được huấn luyện cuối cùng.  Tôi không có cảm xúc và không thể thực hiện các hành động trong thế giới thực.

[2025-09-15 12:53:57] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Ok
[2025-09-15 12:53:59] [INFO] 📤 Đã trả lời 6562158780: Ok!

[2025-09-15 12:54:09] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): 😀😀
[2025-09-15 12:54:12] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Có gì mình giúp được không?

[2025-09-15 12:57:36] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Có thể chạy bot chạy bằng python trên cloude phone được k ?
[2025-09-15 12:57:38] [INFO] 📤 Đã trả lời 6562158780: Không. Cloud phone là dịch vụ điện thoại trên đám mây, không có môi trường để chạy mã Python.  Bạn cần một server hoặc một nền tảng cloud computing (như Google Cloud, AWS, Azure) để chạy bot Python.

[2025-09-15 12:57:57] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Cài thêm được k
[2025-09-15 12:57:58] [INFO] 🔎 Health-check: OK
[2025-09-15 12:57:59] [INFO] 📤 Đã trả lời 6562158780: Cài thêm được không?  Phụ thuộc vào ngữ cảnh. Bạn cần nói rõ muốn cài thêm gì.

[2025-09-15 12:58:05] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Hay cần replit
[2025-09-15 12:58:07] [INFO] 📤 Đã trả lời 6562158780: Replit là một nền tảng lập trình trực tuyến.  Bạn cần nó tùy thuộc vào mục đích của bạn.  Nếu bạn cần lập trình trực tuyến hoặc cộng tác, thì có thể cần.

[2025-09-15 13:07:49] [INFO] 🔎 Health-check: OK
[2025-09-15 13:13:11] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): ')))
[2025-09-15 13:13:13] [INFO] 📤 Đã trả lời 6562158780: Dạ, tôi đang lắng nghe.  Bạn cần gì?

[2025-09-15 13:13:27] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Chào
[2025-09-15 13:13:28] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
[2025-09-15 13:13:54] [INFO] 💬 Tin nhắn mới từ 6562158780 (6562158780): Chào
[2025-09-15 13:13:55] [INFO] 📤 Đã trả lời 6562158780: Chào bạn! Mình có thể hỗ trợ gì hôm nay?
